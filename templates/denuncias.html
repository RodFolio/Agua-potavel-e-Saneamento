<!-- nao sei se a logica ta certa, mas ta rodando ja chorei duas -->

{% extends "base.html" %} {% block content %}
<div class="card">
  <div class="card-header d-flex justify-content-center align-items-center" style="gap: 30px; font-family: Poppins, sans-serif; margin-top: 10px;">
    <h3 class="card-title">Todas as Denúncias</h3>
    <span class="badge bg-primary">{{ denuncias|length }} Denúncias</span>
  </div>
  <div class="card-body" style="height: 200px; overflow: auto; overflow-y: scroll; height: 450px; overflow-y: scroll;">
    {% if denuncias %}
    <div class="table-responsive">
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Data</th>
            <th>Tipo</th>
            <th>Local</th>
            <th>Descrição</th>
            <th>Prioridade</th>
          </tr>
        </thead>
        <tbody>
          {% for denuncia in denuncias %}
          <tr>
            <td>{{ denuncia.data }}</td>
            <td>{{ denuncia.tipo }}</td>
            <td>{{ denuncia.local }}</td>
            <td>{{ denuncia.descricao }}</td>
            <td>
              {% if denuncia.prioridade == 1 %}
              <span class="badge bg-danger">Alta</span>
              {% elif denuncia.prioridade == 2 %}
              <span class="badge bg-warning">Média</span>
              {% else %}
              <span class="badge bg-info">Baixa</span>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <div class="alert alert-info">Não há denúncias registradas no sistema.</div>
    {% endif %}
  </div>
</div>
{% endblock %}
